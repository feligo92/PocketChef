<div class="background"></div>
<div class="container h-100" style="margin-top: 20vh;">
    <div class="d-flex justify-content-center h-100">
        <div class="user_card">
            <div class="d-flex justify-content-center">
                <div class="brand_logo_container">
                    <img src="https://image.flaticon.com/icons/svg/1830/1830839.svg" class="brand_logo" alt="Logo">
                </div>
            </div>
            <div class="d-flex justify-content-center form_container">
                <form #myForm="ngForm" (ngSubmit)="postLogin(myForm)">
                    <!--Input de Email-->

                    <div class="input-group mb-3">
                        <div class="input-group-append">
                            <span class="input-group-text"><i class="fas fa-user"></i></span>
                        </div>
                        <input [(ngModel)]="loginData['mail']" type="email" name="userEmail"
                            class="form-control input_user myFont" value="" placeholder="email" #miEmail="ngModel"
                            required pattern="\S+@\S+\.\S+">

                    </div>
                    <small *ngIf="miEmail.invalid && miEmail.dirty" id="emailHelp" class="form-text error">Introduce
                        una dirección válida</small>
                    <small *ngIf="miEmail.invalid && miEmail.touched && miEmail.pristine" id="emailHelp"
                        class="form-text error mb-3">Este campo es obligatorio</small>
                    <!--Input de Password-->

                    <div class="input-group mb-2">
                        <div class="input-group-append">
                            <span class="input-group-text myFont"><i class="fas fa-key"></i></span>
                        </div>
                        <input [(ngModel)]="loginData['password']" type="password" name="userPassword"
                            class="form-control input_pass myFont" value="" placeholder="contraseña"
                            #miPassword="ngModel" required
                            pattern="(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}">

                    </div>


                    <div class="d-flex justify-content-center mt-3 login_container myFont">
                        <button type="button" name="button" class="btn login_btn" [disabled]="myForm.invalid" type="submit">Login</button>
                    </div>
                </form>
            </div>

            <div class="mt-4">
                <div class="d-flex justify-content-center links text-light myFont">
                    ¿No tienes cuenta? <span data-toggle="modal" data-target="#modalLoginForm"
                        class="ml-2 text-dark openModal myFont">Regístrate</span>
                </div>

            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
    aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header text-center">
                <h4 class="modal-title w-100 font-weight-bold">Regístrate</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body mx-3">
                <form #myForm1="ngForm" (ngSubmit)="postSign(myForm1)">
                    <!--Input de Username-->
                    <div class="md-form mb-5 form-group">
                        <label data-error="wrong" data-success="right">Nombre de usuario</label>
                        <input [(ngModel)]="signData['userName']" name="userName" type="text" id="defaultForm-name"
                            class="form-control" placeholder="Nombre de usuario" #userName="ngModel" required
                            pattern="^[a-zA-Z0-9]*$">

                        <small *ngIf="userName.invalid && userName.dirty" id="passwordHelp"
                            class="form-text error">El nombre de usuario solo puede contener letras y números

                        </small>
                        <small *ngIf="userName.invalid && userName.touched && userName.pristine" id="emailHelp"
                            class="form-text error">Este campo es obligatorio</small>
                    </div>

                    <!--Input de Email-->
                    <div class="md-form mb-5 form-group">
                        <label data-error="wrong" data-success="right">Email</label>
                        <input [(ngModel)]="signData['mail']" name=userMail type="email" id="defaultForm-email"
                            #myEmail="ngModel" class="form-control  " placeholder="ejemplo@mail.com" required
                            pattern="\S+@\S+\.\S+">
                        <small *ngIf="myEmail.invalid && myEmail.dirty" id="emailHelp" class="form-text error">Introduce
                            una dirección válida</small>
                        <small *ngIf="myEmail.invalid && myEmail.touched && myEmail.pristine" id="emailHelp"
                            class="form-text error">Este campo es obligatorio</small>
                    </div>


                    <!--Input de Password-->
                    <div class="md-form mb-4 form-group">
                        <label data-error="wrong" data-success="right">Contraseña</label>
                        <input [(ngModel)]="signData['password']" type="password" name="userPassword"
                            id="defaultForm-pass" class="form-control" placeholder="Contraseña"
                            #myPassword="ngModel" required
                            pattern="(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}">

                        <small *ngIf="myPassword.invalid && myPassword.dirty" id="passwordHelp"
                            class="form-text error">La contraseña debe contener
                            <ul>
                                <li>mínimo 8 caracteres </li>
                                <li>mínimo 1 minúscula</li>
                                <li>mínimo 1 mayúscula</li>
                                <li>minimo 1 número </li>
                                <li>mínimo 1 carácter escpecial(!$#) </li>
                            </ul>
                        </small>
                        <small *ngIf="myPassword.invalid && myPassword.touched && myPassword.pristine" id="PasswordHelp"
                            class="form-text error">Este campo es obligatorio</small>
                    </div>
                    <div class="modal-footer d-flex justify-content-center">
                        <button class="btn btn-default" type="button" (click)="postSign(myForm1)" data-dismiss="modal" [disabled]="myForm1.invalid" >Registrar</button>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>